webpackJsonp([16],{JgNs:function(t,e,a){var n=a("mDql");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a("rjj0")("67f79683",n,!0)},mDql:function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,"\n.content[data-v-46758082] {\n\tpadding-top: 10px;\n}\n.client-serach .el-input[data-v-46758082]{\n\twidth: 1.9rem;\n}\n.client-serach .dataInp[data-v-46758082]{\n\twidth: 2.1rem;\n}\n.client-serach .el-select[data-v-46758082]{\n\twidth: 1.9rem;\n}\n/*dataInp*/\n.el-button--primary[data-v-46758082]{\n\tmargin-left: .2rem;\n}\n.content .client-ul[data-v-46758082]{\n\tmargin: 0 20px;\n\tborder: 1px #E3E7F1 solid;\n\tborder-right:none ;\n\tborder-bottom: none;\n\tfont-size: 14px;\n\tborder-radius: 5px;\n}\n.content .client-ul li[data-v-46758082]{\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\tborder-bottom: 1px #E3E7F1 solid;\n}\n.content .client-ul .client-li[data-v-46758082]{\n\tbackground: #F1F2F8;\n\tfont-size: 16px;\n\tfont-weight: bold;\n}\n.content .client-ul .client-li span[data-v-46758082]{\n\tfont-weight: bold;\n}\n.content .client-ul li span[data-v-46758082]{\n\t-webkit-box-flex: 1;\n\t    -ms-flex: 1;\n\t        flex: 1;\n\ttext-align: center;\n\tpadding: 20px 0;\n\tborder-right: 1px #E3E7F1 solid;\n\tline-height: 24px;\n}\n.content .client-ul li .client-span[data-v-46758082]{\n\t-webkit-box-flex: 1.5;\n\t    -ms-flex: 1.5;\n\t        flex: 1.5;\n}\n.content .client-ul li .client-span2[data-v-46758082]{\n\t-webkit-box-flex: 2;\n\t    -ms-flex: 2;\n\t        flex: 2;\n}\n.content .client-ul li .client-span3[data-v-46758082]{\n\t-webkit-box-flex: .7;\n\t    -ms-flex: .7;\n\t        flex: .7;\n}\n.content .client-ul li span .checkMsg[data-v-46758082]{\n\tpadding: 6px 5px;\n\tfont-size: 12px;\n}\n.content .client-ul li span .getMsg[data-v-46758082]{\n\tpadding: 6px 5px;\n\tfont-size: 12px;\n}\n",""])},wiYo:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("Dd8w"),s=a.n(n),o=a("NYxO"),r=(a("oAV5"),a("TIfe")),i=a("lbHh"),l=a.n(i),p={data:function(){return{loading1:!1,loading2:!1,totalCount:0,clientList:[],latestReportType:"",formSearch:{latestReportTimeDatetime:"",realName:"",mobileNo:"",idNo:"",latestReportType:"",latestReportStatus:"",start:0,length:10,sortWay:""},currentPage4:4}},filters:{msgType:function(t){return 0==t?"基础版":"标准版"},msgStatus:function(t){return-1==t?"准备获取":0==t?"获取中":1==t?"获取成功":"获取失败"}},mounted:function(){var t=this;if(this.userInfo.mobileNo){var e=new FormData;e.append("userId",this.userInfo.id),e.append("start",1),e.append("length",10),e.append("realName",this.formSearch.realName),e.append("mobileNo",this.formSearch.mobileNo),e.append("idNo",this.formSearch.idNo),e.append("latestReportStatus",this.formSearch.latestReportStatus),e.append("latestReportType",this.formSearch.latestReportType),e.append("sortWay",this.formSearch.sortWay),e.append("timeFrom",this.formSearch.latestReportTimeDatetime);var a=this.$backStage("/api/customer/list");this.$http.post(a,e).then(function(e){t.clientList=e.data.records,t.totalCount=e.data.total},function(t){})}else if(Object(r.a)()){var n=this.$backStage("/api/user/login"),s=this;s.$http.post(n,{mobileNo:l.a.get("_wibn"),password:l.a.get("_wibp"),checkFlag:"pwd"}).then(function(e){if(200==e.data.status){t.$store.dispatch("UserInfo",e.data.obj);var a=new FormData;a.append("userId",s.userInfo.id),a.append("start",1),a.append("length",10),a.append("realName",s.formSearch.realName),a.append("mobileNo",s.formSearch.mobileNo),a.append("idNo",s.formSearch.idNo),a.append("latestReportStatus",s.formSearch.latestReportStatus),a.append("latestReportType",s.formSearch.latestReportType),a.append("sortWay",s.formSearch.sortWay),a.append("timeFrom",s.formSearch.latestReportTimeDatetime);var n=s.$backStage("/api/customer/list");s.$http.post(n,a).then(function(t){s.clientList=t.data.records,s.totalCount=t.data.total},function(t){})}else s.$alert("登录信息有误，请退出后重新登录","系统提示",{confirmButtonText:"确定"})}).catch(function(t){s.$alert("登录信息有误，请退出后重新登录","系统提示",{confirmButtonText:"确定"})})}},methods:{checkAgain:function(t){var e=this;1==t.latestReportStatus?this.$confirm("重新获取会消耗查询次数","系统提示",{confirmButtonText:"确认",cancelButtonText:"取消",type:""}).then(function(){e.$store.dispatch("ClientMsg",t),e.$router.push({path:"/client/newClient"})}).catch(function(){}):(this.$store.dispatch("ClientMsg",t),this.$router.push({path:"/client/newClient"}))},clear:function(){this.formSearch.realName="",this.formSearch.mobileNo="",this.formSearch.idNo="",this.formSearch.latestReportStatus="",this.formSearch.latestReportType="",this.formSearch.latestReportTimeDatetime=""},refresh:function(){var t=this;this.loading2=!0;var e=new FormData;e.append("userId",this.userInfo.id),e.append("start",1),e.append("length",10),e.append("realName",this.formSearch.realName),e.append("mobileNo",this.formSearch.mobileNo),e.append("idNo",this.formSearch.idNo),e.append("latestReportStatus",this.formSearch.latestReportStatus),e.append("latestReportType",this.formSearch.latestReportType),e.append("sortWay",this.formSearch.sortWay),e.append("timeFrom",this.formSearch.latestReportTimeDatetime);var a=this.$backStage("/api/customer/list");this.$http.post(a,e).then(function(e){t.loading2=!1,t.clientList=e.data.records,t.totalCount=e.data.total,t.$message("刷新成功")},function(e){t.loading2=!1,t.$message("刷新失败")})},checkMsg:function(t){var e=this,a=this.$backStage("/api/customer/selectReport");this.$http.post(a,{latestReportKey:t.latestReportKey,name:t.realName,idCard:t.idNo,mobile:t.mobileNo}).then(function(a){e.$store.dispatch("MsgDetail",a.data.obj),0==t.latestReportType?e.$router.push({path:"/client/reportPageBase"}):e.$router.push({path:"/client/reportPageNorm"})},function(t){})},handleCurrentChange:function(t){var e=this,a=new FormData;a.append("userId",this.userInfo.id),a.append("start",10*(t-1)),a.append("length",10),a.append("realName",this.formSearch.realName),a.append("mobileNo",this.formSearch.mobileNo),a.append("idNo",this.formSearch.idNo),a.append("latestReportStatus",this.formSearch.latestReportStatus),a.append("latestReportType",this.formSearch.latestReportType),a.append("sortWay",this.formSearch.sortWay),a.append("timeFrom",this.formSearch.latestReportTimeDatetime);var n=this.$backStage("/api/customer/list");this.$http.post(n,a).then(function(t){e.clientList=t.data.records,e.totalCount=t.data.total},function(t){})},onSearch:function(){var t=this;this.loading1=!0;var e=new FormData;e.append("userId",this.userInfo.id),e.append("start",1),e.append("length",10),e.append("realName",this.formSearch.realName),e.append("mobileNo",this.formSearch.mobileNo),e.append("idNo",this.formSearch.idNo),e.append("latestReportStatus",this.formSearch.latestReportStatus),e.append("latestReportType",this.formSearch.latestReportType),e.append("sortWay",this.formSearch.sortWay),e.append("timeFrom",this.formSearch.latestReportTimeDatetime);var a=this.$backStage("/api/customer/list");this.$http.post(a,e).then(function(e){t.loading1=!1,t.clientList=e.data.records,t.totalCount=e.data.total},function(e){t.loading1=!1})}},computed:s()({},Object(o.b)(["msgType","userInfo"]))},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"filter-container client-serach"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.formSearch}},[a("el-form-item",{attrs:{label:""}},[a("el-date-picker",{staticClass:"dataInp",attrs:{type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd"},model:{value:t.formSearch.latestReportTimeDatetime,callback:function(e){t.$set(t.formSearch,"latestReportTimeDatetime",e)},expression:"formSearch.latestReportTimeDatetime"}})],1),t._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"客户姓名"},model:{value:t.formSearch.realName,callback:function(e){t.$set(t.formSearch,"realName",e)},expression:"formSearch.realName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"手机号码"},model:{value:t.formSearch.mobileNo,callback:function(e){t.$set(t.formSearch,"mobileNo",e)},expression:"formSearch.mobileNo"}})],1),t._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"身份证号"},model:{value:t.formSearch.idNo,callback:function(e){t.$set(t.formSearch,"idNo",e)},expression:"formSearch.idNo"}})],1),t._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-select",{attrs:{placeholder:"信息类型"},model:{value:t.formSearch.latestReportType,callback:function(e){t.$set(t.formSearch,"latestReportType",e)},expression:"formSearch.latestReportType"}},[a("el-option",{attrs:{label:"基础",value:"0"}}),t._v(" "),a("el-option",{attrs:{label:"标准",value:"1"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-select",{attrs:{placeholder:"信息状态"},model:{value:t.formSearch.latestReportStatus,callback:function(e){t.$set(t.formSearch,"latestReportStatus",e)},expression:"formSearch.latestReportStatus"}},[a("el-option",{attrs:{label:"准备获取",value:"-1"}}),t._v(" "),a("el-option",{attrs:{label:"获取中",value:"0"}}),t._v(" "),a("el-option",{attrs:{label:"获取成功",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"获取失败",value:"2"}})],1)],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",loading:t.loading1},on:{click:t.onSearch}},[t._v("查询")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.clear}},[t._v("清空")])],1)],1)],1),t._v(" "),a("ul",{staticClass:"client-ul"},[t._m(0),t._v(" "),t._l(t.clientList,function(e,n){return a("li",[a("span",{staticClass:"client-span3"},[t._v(t._s(e.id))]),t._v(" "),a("span",{staticClass:"client-span"},[t._v(t._s(e.latestReportTimeStr))]),t._v(" "),a("span",[t._v(t._s(e.realName))]),t._v(" "),a("span",{staticClass:"client-span"},[t._v(t._s(e.mobileNo))]),t._v(" "),a("span",{staticClass:"client-span client-span2"},[t._v(t._s(e.idNo))]),t._v(" "),a("span",[t._v(t._s(t._f("msgType")(e.latestReportType)))]),t._v(" "),a("span",[t._v(t._s(e.refreshTimes))]),t._v(" "),a("span",[t._v(t._s(t._f("msgStatus")(e.latestReportStatus)))]),t._v(" "),a("span",{staticClass:"client-span client-span2"},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:1==e.latestReportStatus||-1==e.latestReportStatus&&e.refreshTimes>0,expression:"ele.latestReportStatus==1||(ele.latestReportStatus==-1&&ele.refreshTimes>0)"}],staticClass:"checkMsg",attrs:{type:"primary"},on:{click:function(a){t.checkMsg(e)}}},[t._v("查看信息")]),t._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:0!=e.latestReportStatus,expression:"ele.latestReportStatus!=0"}],staticClass:"getMsg",on:{click:function(a){t.checkAgain(e)}}},[t._v("重新获取")])],1)])})],2),t._v(" "),a("div",{staticClass:"block",attrs:{id:"foot-page"}},[a("el-pagination",{attrs:{"page-size":10,layout:"total, prev, pager, next, jumper",total:t.totalCount},on:{"current-change":t.handleCurrentChange}})],1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"client-li"},[a("span",{staticClass:"client-span3"},[t._v("序号")]),a("span",{staticClass:"client-span"},[t._v("最近更新时间")]),a("span",[t._v("客户姓名")]),a("span",{staticClass:"client-span"},[t._v("手机号")]),a("span",{staticClass:"client-span client-span2"},[t._v("身份证号")]),a("span",[t._v("信息类型")]),a("span",[t._v("查询次数")]),a("span",[t._v("信息状态")]),a("span",{staticClass:"client-span client-span2"},[t._v("操作")])])}]};var m=a("VU/8")(p,c,!1,function(t){a("JgNs")},"data-v-46758082",null);e.default=m.exports}});