webpackJsonp([5],{W2Q3:function(t,n,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=o("fmhD"),a=o("lbHh"),i=o.n(a),s=o("KPSb"),r=o.n(s),c={components:{Vefoot:e.a},data:function(){return{code:"",codeText:"获取验证码",disabled1:!0,passwordShow:!1,passwordLogin:!0,password:"",mobileNo:"",passwordClear:!1,mobileNoClear:!1,codeClear:!1,loading:!1}},filters:{msgTime:function(t){return"number"==typeof t?t+"s后重发":t}},mounted:function(){this.mobileNo=i.a.get("_wibn")},beforeUpdate:function(){},watch:{mobileNo:function(t){if("获取验证码"==this.codeText){var n=/^[1][3,4,5,7,8,9]\d{9}$/.test(t);this.disabled1=!n}this.mobileNoClear=!!t},password:function(t){this.passwordClear=!!t},code:function(t){this.codeClear=!!t}},methods:{changeTab:function(t){this.passwordLogin=1==t},showPassword:function(){this.passwordShow?this.passwordShow=!1:this.passwordShow=!0},onBlurPassword:function(){var t=this;setTimeout(function(){t.passwordClear=!1,t.$forceUpdate()},200)},onBlurMobile:function(){var t=this;setTimeout(function(){t.mobileNoClear=!1,t.$forceUpdate()},200)},onBlurCode:function(){var t=this;setTimeout(function(){t.codeClear=!1,t.$forceUpdate()},200)},clearPassword:function(){this.password=""},clearMobile:function(){this.mobileNo=""},clearCode:function(){this.code=""},forgetPassword:function(){this.$router.push({path:"/reset"})},goRegister:function(){this.$router.push({path:"/register"})},login:function(){var t=this;if(this.passwordLogin){var n=/^[1][3,4,5,7,8,9]\d{9}$/.test(this.mobileNo),o=/^(?!(?:\d*$))(?!(?:[a-zA-Z]*$))[A-Za-z0-9]{6,20}$/.test(this.password);if(this.mobileNo&&this.password)if(n)if(o){this.loading=!0;var e=this.$backStage("/api/user/login");this.$http.post(e,{mobileNo:this.mobileNo,password:r()(this.password),checkFlag:"pwd"}).then(function(n){t.loading=!1,200==n.data.status?(i.a.set("Admin-Token","admin"),i.a.set("_wibn",n.data.obj.mobileNo,7),i.a.set("_wibp",n.data.obj.password,7),t.$store.dispatch("UserInfo",n.data.obj),n.data.obj.realName?t.$router.push({path:"/client/clientList"}):t.$router.push({path:"/"})):t.$alert(n.data.msg,"系统提示",{confirmButtonText:"确定"})}).catch(function(t){this.loading=!1})}else this.$alert("密码格式错误","系统提示",{confirmButtonText:"确定"});else this.$alert("手机号码格式错误","系统提示",{confirmButtonText:"确定"});else this.$alert("手机号、密码不能为空","系统提示",{confirmButtonText:"确定"})}else{var a=/^[1][3,4,5,7,8,9]\d{9}$/.test(this.mobileNo),s=/[0-9]{6}/.test(this.code);if(this.mobileNo&&this.code)if(a)if(s){var c=this.$backStage("/api/user/login");this.$http.post(c,{mobileNo:this.mobileNo,inCode:this.code,checkFlag:"quick"}).then(function(n){t.loading=!1,200==n.data.status?(i.a.set("Admin-Token","admin"),t.$router.push({path:"/"}),t.$store.dispatch("UserInfo",n.data.obj)):t.$alert(n.data.msg,"系统提示",{confirmButtonText:"确定"})}).catch(function(t){this.loading=!1})}else this.$alert("验证码格式错误","系统提示",{confirmButtonText:"确定"});else this.$alert("手机号码格式错误","系统提示",{confirmButtonText:"确定"});else this.$alert("手机号、验证码不能为空","系统提示",{confirmButtonText:"确定"})}},getCode:function(){var t=this;if("获取验证码"==this.codeText&&!this.disabled1){this.$alert("验证码发送成功,请不要重复点击","系统提示",{confirmButtonText:"确定"}),this.disabled1=!0;var n=this.$backStage("/api/verifyCode/sendVerifyCode");this.$http.post(n,{mobileNo:this.mobileNo,checkFlag:"quick"}).then(function(n){var o=t;if(200==n.data.status){o.codeText=60;var e=setInterval(function(){"获取验证码"==o.codeText?(clearInterval(e),o.disabled1=!1):(o.codeText-=1,0==o.codeText&&(clearInterval(e),o.codeText="获取验证码",o.disabled1=!1))},1e3)}else o.$alert(n.data.msg,"系统提示",{confirmButtonText:"确定"}),o.disabled1=!1}).catch(function(t){})}}}},d={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"content"},[t._m(0),t._v(" "),e("div",{staticClass:"content-box"},[e("div",{staticClass:"box"},[e("div",{staticClass:"loginTab"},[e("div",{staticClass:"login-p",class:{"p-active":t.passwordLogin},on:{click:function(n){t.changeTab(1)}}},[e("span",[t._v("密码登录")])]),t._v(" "),e("span",{staticClass:"line"}),t._v(" "),e("div",{staticClass:"login-t",class:{"t-active":!t.passwordLogin},on:{click:function(n){t.changeTab(2)}}},[e("span",[t._v("快捷登录")])])]),t._v(" "),e("div",{staticClass:"nav"},[e("p",{staticClass:"p-tel"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.mobileNo,expression:"mobileNo"}],attrs:{placeholder:"请输入手机号",maxlength:"11"},domProps:{value:t.mobileNo},on:{blur:t.onBlurMobile,input:function(n){n.target.composing||(t.mobileNo=n.target.value)}}}),e("img",{directives:[{name:"show",rawName:"v-show",value:t.mobileNoClear,expression:"mobileNoClear"}],attrs:{src:o("no7l")},on:{click:function(n){t.clearMobile()}}})]),t._v(" "),e("p",{directives:[{name:"show",rawName:"v-show",value:t.passwordLogin,expression:"passwordLogin"}],staticClass:"p-password"},[t.passwordShow?e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{placeholder:"密码6-20位、字母组合",type:"text",maxlength:"20"},domProps:{value:t.password},on:{blur:t.onBlurPassword,input:function(n){n.target.composing||(t.password=n.target.value)}}}):t._e(),t._v(" "),t.passwordShow?t._e():e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{placeholder:"密码6-20位、字母组合",type:"password",maxlength:"20"},domProps:{value:t.password},on:{blur:t.onBlurPassword,input:function(n){n.target.composing||(t.password=n.target.value)}}}),t._v(" "),e("span",{on:{click:function(n){t.showPassword()}}},[e("img",{directives:[{name:"show",rawName:"v-show",value:t.passwordShow,expression:"passwordShow"}],attrs:{src:o("NVQJ")}}),t._v(" "),e("img",{directives:[{name:"show",rawName:"v-show",value:!t.passwordShow,expression:"!passwordShow"}],attrs:{src:o("A07g")}})]),t._v(" "),e("img",{directives:[{name:"show",rawName:"v-show",value:t.passwordClear,expression:"passwordClear"}],attrs:{src:o("no7l")},on:{click:function(n){t.clearPassword()}}})]),t._v(" "),e("p",{directives:[{name:"show",rawName:"v-show",value:!t.passwordLogin,expression:"!passwordLogin"}],staticClass:"p-code"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],attrs:{placeholder:"请输入短信验证码",maxlength:"6"},domProps:{value:t.code},on:{blur:t.onBlurCode,input:function(n){n.target.composing||(t.code=n.target.value)}}}),e("span",{on:{click:function(n){t.getCode()}}},[t._v(t._s(t._f("msgTime")(t.codeText)))]),e("img",{directives:[{name:"show",rawName:"v-show",value:t.codeClear,expression:"codeClear"}],attrs:{src:o("no7l")},on:{click:function(n){t.clearCode()}}})])]),t._v(" "),e("el-button",{staticStyle:{width:"80%"},attrs:{type:"primary",loading:t.loading},nativeOn:{click:function(n){n.preventDefault(),t.login()}}},[t._v("\n                                  登录\n            ")]),t._v(" "),e("p",{directives:[{name:"show",rawName:"v-show",value:t.passwordLogin,expression:"passwordLogin"}],staticClass:"p-forget"},[e("span",{staticClass:"span-left",on:{click:function(n){t.goRegister()}}},[t._v("注册新用户")]),e("span",{staticClass:"span-right",on:{click:function(n){t.forgetPassword()}}},[t._v("忘记密码？")])])],1)]),t._v(" "),e("vefoot")],1)},staticRenderFns:[function(){var t=this.$createElement,n=this._self._c||t;return n("div",{staticClass:"head"},[n("span",{staticClass:"head-left"},[n("img",{attrs:{src:o("sgvQ")}})])])}]};var l=o("VU/8")(c,d,!1,function(t){o("yidZ")},"data-v-c27890c0",null);n.default=l.exports},Y3PK:function(t,n,o){t.exports=o.p+"static/img/loginbg.bb97e50.jpg"},Za81:function(t,n,o){(t.exports=o("FZ+f")(!1)).push([t.i,"\n.content[data-v-c27890c0]{\n@include relative;\n    height: 100vh;\n    padding-top: 10%;\n    background:url("+o("Y3PK")+");\n    background-size:100% 100%;\n}\n.head[data-v-c27890c0]{\n\twidth: 100%;\n\theight: .7rem;\n\tline-height: .7rem;\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\tbackground: #fff;\n}\n.head .head-left[data-v-c27890c0]{\n\tdisplay: block;\n\tmargin-left: 18%;\n\tfont-size: .2rem;\n\theight: .7rem;\n\twidth: 1.25rem;\n}\n.head .head-left img[data-v-c27890c0]{\n\twidth: 100%;\n\theight: 100%;\n}\n.content-box[data-v-c27890c0]{\n\twidth: 1100px;\n\theight: 450px;\n\tmargin: 0 auto;\n}\n.box[data-v-c27890c0]{\n\twidth: 400px;\n\theight: 430px;\n\tborder: 1px #E3E7F1 solid;\n\tbackground: #fff;\n\tfloat: right;\n}\n.nav[data-v-c27890c0]{\n\tpadding-left: 30px;\n\tbackground: #fff;\n}\n.nav p[data-v-c27890c0]{\n\tpadding: 14px 0;\n\theight: 42px;\n\tposition: relative;\n\tmargin-bottom: 20px;\n}\n.loginTab[data-v-c27890c0]{\n\theight: 88px;\n\tdisplay: -webkit-box;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\tbackground: #fff;\n\tpadding-bottom: 1px;\n\tposition: relative;\n\tpadding-top: 30px;\n}\n/*.loginTab:before{\n\tcontent: '';\n\tposition: absolute;\n\twidth: 200%;\n\theight: 1px;\n\tbottom: 0;\n\tborder-bottom: 1px solid #DEEBE3;\n\ttransform-origin: 0 0;\n\ttransform: scale(.5,.5);\n\tbox-sizing: border-box;\n}*/\n.loginTab .line[data-v-c27890c0]{\n\theight: 20px;\n\tmargin-top: 20px;\n\tposition: relative;\n}\n.loginTab .line[data-v-c27890c0]:before{\n\tcontent: '';\n\tposition: absolute;\n\twidth: 1px;\n\theight: 200%;\n\tright:0 ;\n\tborder-right: 1px solid #DEEBE3;\n\t-webkit-transform-origin: 0 0;\n\t        transform-origin: 0 0;\n\t-webkit-transform: scale(.5,.5);\n\t        transform: scale(.5,.5);\n\t-webkit-box-sizing: border-box;\n\t        box-sizing: border-box;\n}\n.loginTab div[data-v-c27890c0]{\n\tcolor: #999;\n\t-webkit-box-flex: 1;\n\t    -ms-flex: 1;\n\t        flex: 1;\n\ttext-align: center;\n\tpadding: 20px 0;\n}\n.loginTab .p-active[data-v-c27890c0]{\n\t/*border-bottom: 2px #0BB1FF solid;*/\n\tcolor: #0BB1FF;\n}\n.loginTab .t-active[data-v-c27890c0]{\n\t/*border-bottom: 2px #0BB1FF solid;*/\n\tcolor: #0BB1FF;\n}\n.nav p input[data-v-c27890c0]{\n\twidth: 90%;\n\tfont-size: 14px;   \n\toutline: none;\n\tborder: 1px #ccc solid;\n\tpadding: 10px 8px;\n}\n.p-tel img[data-v-c27890c0]{\n\tposition: absolute;\n\tright: 50px;\n\ttop: 25px;\n\twidth: 16px;\n\theight: 16px;\n}\n.nav .p-password span[data-v-c27890c0]{\n\tfloat: right;\n\theight: 20px;\n\twidth: 20px;\n\tmargin-right: 20px;\n}\n.nav .p-code span[data-v-c27890c0]{\n\tposition: absolute;\n\tright: 10%;\n\ttop: 14px;\n\ttext-align: center;\n\tcolor: #333;\n\tline-height: 39px;\n\tbackground: #D3D3D3;\n\topacity: 1;\n\tpadding-left: 10px;\n\twidth: 120px;\n\theight: 38px;\n\tfont-size: 14px;\n}\n.nav .p-code .time-active[data-v-c27890c0]{\n\topacity: 1;\n}\n.nav .p-code img[data-v-c27890c0]{\n\tposition: absolute;\n\tright: 140px;\n\ttop: 25px;\n\twidth: 16px;\n\theight: 16px;\n}\n.nav .p-code[data-v-c27890c0]:before{\n\tborder: none;\n}\n.nav .p-password span img[data-v-c27890c0]{\n\tposition: absolute;\n\tright: 50px;\n\ttop: 29px;\n\twidth: 18px;\n\theight: 10px;\n}\n.nav .p-password[data-v-c27890c0]:before{\n   border:none;\n}\n.p-password img[data-v-c27890c0]{\n\tposition: absolute;\n\tright: 80px;\n\ttop: 25px;\n\twidth: 16px;\n\theight: 16px;\n}\nbutton[data-v-c27890c0]{\n\twidth: 82%;\n\theight: 40px;\n\ttext-align: center;\n\tbackground: #0BB1FF;\n\tdisplay: block;\n\tmargin: 0 auto;\n\tborder: none;\n\tborder-radius: 5px;\n\tcolor: #fff;\n\tmargin-top: 45px;\n\tmargin-bottom: 15px;\n\toutline:none;\n\topacity: 1;\n\tfont-size: 16px;\n}\n.btn-password[data-v-c27890c0]{\n\tmargin-top: 33px;\n}\n.btn-active[data-v-c27890c0]{\n\topacity: 1;\n}\n.p-login[data-v-c27890c0]{\n\tcolor: #0BB1FF;\n\ttext-align: center;\n}\n.p-forget[data-v-c27890c0]{\n\t/*margin-top: 20px;*/\n\tfont-size: 14px;\n\tpadding:0 40px;\n\tcolor: #0BB1FF;\n\tpadding-bottom: 20px;\n}\n.p-forget .span-left[data-v-c27890c0]{\n\tcolor: #0BB1FF;\n\tfloat: left;\n}\n.p-forget .span-right[data-v-c27890c0]{\n\tcolor: #999;\n\tfloat: right;\n}\n",""])},yidZ:function(t,n,o){var e=o("Za81");"string"==typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);o("rjj0")("54e3ac46",e,!0)}});